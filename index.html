<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="generator" content="Hugo 0.80.0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="pragma" content="no-cache" />
    <title>PISH STARTUP CALCULATOR</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
      integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
      crossorigin="anonymous"
    />
    <link
      rel="apple-touch-icon"
      sizes="57x57"
      href="/images/apple-icon-57x57.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="60x60"
      href="/images/apple-icon-60x60.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="/images/apple-icon-72x72.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="/images/apple-icon-76x76.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="/images/apple-icon-114x114.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="120x120"
      href="/images/apple-icon-120x120.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="144x144"
      href="/images/apple-icon-144x144.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="152x152"
      href="/images/apple-icon-152x152.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/images/apple-icon-180x180.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="/images/android-icon-192x192.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="96x96"
      href="/images/favicon-96x96.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/images/favicon-16x16.png"
    />
    <link rel="manifest" href="/images/manifest.json" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png" />
    <meta name="theme-color" content="#ffffff" />
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
      crossorigin="anonymous"
    ></script>
    <script src="/quiz-data.js"></script>
  </head>
  <body
    class="d-flex flex-column"
    style="
      height: 100vh;
      background-image: url(/images/body_bg.png);
    "
  >
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="/">
          <img
            src="/images/logo_pish_novsu_green_icon.png"
            alt=""
            style="height: 20px"
          />
          <div class="mr-1"></div>
          –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–∞—Ä—Ç–∞–ø–∞ –ü–ò–®</a
        >
        <a
          class="navbar-brand d-flex align-items-center"
          href="https://abit-russia.com/tprl"
        >
          <div class="mr-1"></div>
          –û—Ü–µ–Ω–∫–∞ –ø–æ –º–µ—Ç–æ–¥—É TPRL</a
        >
      </div>
    </nav>
    <main role="main" class="container">
      <div class="mt-4"></div>
      <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–∞—Ä—Ç–∞–ø–∞ –ü–ò–®</h1>
      <p class="mt-2">–≠—Ç–æ—Ç –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –í–∞–º —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à–∏ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤–∞—à–µ–≥–æ —Å—Ç–∞—Ä—Ç–∞–ø–∞ –∏ –æ—Ü–µ–Ω–∏—Ç—å –Ω–∞—à–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–º–æ—á—å –≤–∞–º –≤ —ç—Ç–æ–º.</p>
      <h4>
        –ü–æ–∂–∞–ª—É–π—Å—Ç–∞ –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –Ω–∏–∂–µ –∏ –ø–æ–ª—É—á–∏—Ç–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—É—é –º–æ–¥–µ–ª—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–µ–π –∏ –¥–æ—Ö–æ–¥–æ–≤
      </h4>
      <div class="mt-3"></div>
      <div id="root" class="container">
        <div class="row">
          <div class="col-12">
            <div id="questions"></div>
            <div class="mt-3"></div>
            <div id="result"></div>
          </div>
          <div class="mt-3"></div>
          <div id="responsibility" class="col-12">
            <div class="row pb-3">
              <div class="col-xs-12 col-md-6 pb-3">
                <div class="card border-info h-100">
                  <h4 class="card-header text-center">
                    –ú—ã –≤–æ–∑—å–º–µ–º —ç—Ç–æ –Ω–∞ —Å–µ–±—è
                  </h4>
                  <div class="card-body bg-light">
                    <div class="mt-1"></div>
                    <ul id="we-take" class="list-group list-group-flush"></ul>
                  </div>
                </div>
                <div class="mt-3"></div>
              </div>
              <div class="col-xs-12 col-md-6 pb-3">
                <div class="card border-info h-100">
                  <h4 class="card-header text-center">–≠—Ç–æ —Å–º–æ–∂–µ—Ç–µ –¥–µ–ª–∞—Ç—å –í—ã</h4>
                  <div class="card-body bg-light">
                    <div class="mt-1"></div>
                    <div
                      id="this-your"
                      class="list-group list-group-flush"
                    ></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="mt-3"></div>
        </div>
      </div>
    </main>
    <div class="mt-5"></div>
    <footer class="bg-dark pb-1 pt-1 mt-auto">
      <a href="https://vk.com/pish.novsu"
        ><p class="text-right m-0 mr-4">–°–¥–µ–ª–∞–Ω–æ –≤ –ü–ò–® –ù–æ–≤–ì–£ üíö</p></a>
    </footer>

    <script>
      $root = $("#root");
      $questions = $("#questions");
      $result = $("#result");
      $responsibility = $("#responsibility");
      $weTake = $("#we-take");
      $thisYour = $("#this-your");

      $responsibility.hide();

      // ADD –°ARDS WITH INPUTS
      quizData.forEach((card, cardIndex) => {
        let inputArr = "";

        card.questions.forEach(
          (input, inputIndex) =>
            (inputArr += `<div class="form-check form-check-inline"><input class="form-check-input" type="${card.typeOfInput}" name="card${cardIndex}" id="input${cardIndex}${inputIndex}" value="1" onchange="compute();"/><label class="form-check-label" for="input${cardIndex}${inputIndex}" >${input.label}</label></div>`)
        );

        $questions.append(
          `<div class="card"><div class="card-body bg-light d-flex flex-column"><p>${card.cardLabel}</p>${inputArr}</div></div><div class="mt-3"></div>`
        );
      });

      // COMPUTE BLOCK
      function compute() {
        $result.html("");
        $weTake.html("");
        $thisYour.html("");

        let result = 0;
        let sumOfValues = 0;
        let weTakeArr = [];
        let thisYourArr = [];

        // calculation of the maximum sum of values
        quizData.forEach((card, cardIndex) => {
          if (card.typeOfInput === "radio") {
            let tempMaxValue = 0;
            card.questions.forEach(item => {
              item.value > tempMaxValue ? (tempMaxValue = item.value) : null;
            });

            sumOfValues += tempMaxValue;
          }

          if (card.typeOfInput === "checkbox") {
            let tempMaxValue = 0;
            card.questions.forEach(item => {
              item.value > 0 ? (tempMaxValue += item.value) : null;
            });

            sumOfValues += tempMaxValue;
          }
        });

        // end of calculation of the maximum sum of values

        //calculation result %
        quizData.forEach((card, cardIndex) => {
          card.questions.forEach((question, questionIndex) => {
            if (
              $("#input" + String(cardIndex) + String(questionIndex)).is(
                ":checked"
              )
            ) {
              result += question.value;

              if (question.value > 0) {
                question.responsibility
                  ? thisYourArr.push(question.responsibility)
                  : null;
              } else {
                question.responsibility
                  ? weTakeArr.push(question.responsibility)
                  : null;
              }
            }
          });
        });
        // end of calculation result %

        // RESULT BLOCK
        let percentResult = Math.round((result / sumOfValues) * 100);

        if (percentResult < 6) {
          $result.append(
            `<div class="alert alert-warning text-center" role="alert"><h4 class="alert-heading">–ü–æ—Ö–æ–∂–µ, —á—Ç–æ –í–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –Ω–∞—á–∞–ª–µ –ø—É—Ç–∏. –°–µ–π—á–∞—Å —Ç—Ä—É–¥–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏ –ø–æ —Å–æ–≤–º–µ—Å—Ç–Ω–æ–º—É —Ä–∞–∑–≤—Ç–∏–∏—é</h4></div>`
          );
        }
        if (percentResult > 94) {
          $result.append(
            `<div class="alert alert-success text-center" role="alert"><h4 class="alert-heading">–í–∞—É! –ü–æ—Ö–æ–∂–µ, —á—Ç–æ –í—ã —Å–º–æ–∂–µ—Ç–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ –¥–æ–≤–µ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç –¥–æ —É—Å–ø–µ—Ö–∞</h4></div>`
          );
        }

        if (percentResult > 5 && percentResult < 95) {
          $result.append(
            `<div class="alert alert-info text-center" style="background: linear-gradient(90deg, #d4edda 0%, #e4eeaa ${percentResult}%, #ffeeba 100%);" role="alert"><h4 class="alert-heading">–î–æ–ª—è –í–∞—à–µ–≥–æ –ø—Ä–µ–¥–ø—Ä–∏—è—Ç–∏—è, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —É –í–∞—Å ${percentResult}%</h4></div>`
          );
        }
        // end result block

        // RESPONSIBILITY

        if (percentResult > 5 && percentResult < 95) {
          $responsibility.show();

          $weTake.html("");
          weTakeArr.forEach((item, index) => {
            $weTake.append(`<li class="list-group-item bg-light">${item}</li>`);
          });

          $thisYour.html("");
          thisYourArr.forEach((item, index) => {
            $thisYour.append(
              `<li class="list-group-item bg-light">${item}</li>`
            );
          });
        } else {
          $responsibility.hide();
        }
      }
    </script>
  </body>
</html>
