<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta name="description" content="" />
    <meta name="generator" content="Hugo 0.80.0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="pragma" content="no-cache" />
    <title>PISH STARTUP CALCULATOR</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
      integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
      crossorigin="anonymous"
    />
    <link
      rel="apple-touch-icon"
      sizes="57x57"
      href="/images/apple-icon-57x57.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="60x60"
      href="/images/apple-icon-60x60.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="/images/apple-icon-72x72.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="/images/apple-icon-76x76.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="/images/apple-icon-114x114.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="120x120"
      href="/images/apple-icon-120x120.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="144x144"
      href="/images/apple-icon-144x144.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="152x152"
      href="/images/apple-icon-152x152.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/images/apple-icon-180x180.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="/images/android-icon-192x192.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="96x96"
      href="/images/favicon-96x96.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/images/favicon-16x16.png"
    />
    <link rel="manifest" href="/images/manifest.json" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png" />
    <meta name="theme-color" content="#ffffff" />
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
      crossorigin="anonymous"
    ></script>
    <script src="/quiz-data.js"></script>
  </head>
  <body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark">
      <a class="navbar-brand d-flex align-items-center" href="#">
        <img
          src="/images/logo_pish_novsu_green_icon.png"
          alt=""
          style="height: 20px"
        />
        <div class="mr-1"></div>
        PISH STARTUP CALCULATOR</a
      >
      <a
        class="navbar-brand d-flex align-items-center"
        href="https://abit-russia.com/tprl"
      >
        <div class="mr-1"></div>
        Оценка готовности проекта по TPRL</a
      >
    </nav>
    <main role="main" class="container">
      <div class="mt-3"></div>
      <h1>PISH STARTUP CALCULATOR</h1>

      <h2>Опрос</h2>
      <div id="root" class="container">
        <div class="row">
          <div class="col-12">
            <div id="questions"></div>
            <div class="mt-3"></div>
            <div id="result"></div>
          </div>
          <div class="mt-3"></div>
          <div id="responsibility" class="col-12 row">
            <div class="col-6">
              <div class="card">
                <div class="card-body bg-light">
                  <h3 class="text-center">Мы возьмем это на себя</h3>
                  <div class="mt-1"></div>
                  <div id="we-take"></div>
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="card">
                <div class="card-body bg-light">
                  <h3 class="text-center">Это сможете делать Вы</h3>
                  <div class="mt-1"></div>
                  <div id="this-your"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <script>
      $root = $("#root");
      $questions = $("#questions");
      $result = $("#result");
      $responsibility = $("#responsibility");
      $weTake = $("#we-take");
      $thisYour = $("#this-your");

      $responsibility.hide();

      quizData.forEach((card, cardIndex) => {
        let inputArr = "";

        card.questions.forEach(
          (input, inputIndex) =>
            (inputArr += `<div class="form-check form-check-inline"><input class="form-check-input" type="${card.typeOfInput}" name="${card.cardName}" id="input${cardIndex}${inputIndex}" value="1" onchange="compute();"/><label class="form-check-label" for="input${cardIndex}${inputIndex}" >${input.label}</label></div>`)
        );

        $questions.append(
          `<div class="card"><div class="card-body bg-light"><p>${card.cardLabel}</p>${inputArr}</div></div><div class="mt-3"></div>`
        );
      });

      function compute() {
        $result.html("");
        $weTake.html("");
        $thisYour.html("");

        let result = 0;
        quizData.forEach((card, cardIndex) => {
          card.questions.forEach((question, questionIndex) => {
            if (
              $("#input" + String(cardIndex) + String(questionIndex)).is(
                ":checked"
              )
            ) {
              result += question.value;
            }
          });
        });

        $result.append(
          `<div class="alert alert-info text-center" role="alert"><h4 class="alert-heading">Мы хотим ${result}% вашей фирмы</h4></div>`
        );

        $responsibility.show();
        `<div class="card"><div class="card-body bg-light"></div></div><div class="mt-3"></div>`;
      }
    </script>
  </body>
</html>
